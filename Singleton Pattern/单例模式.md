# 单例模式

涉及到一个单一的类，该类负责创建自己的对象，同时确保只有单个对象被创建。这个类提供了一种访问其唯一的对象的方式，可以直接访问，不需要实例化该类的对象。

- 单例类只有一个实例
- 单例类必须自己创建自己的唯一实例
- 单例类必须给所有其他对象提供这一实例

1. 目的

   保证一个类仅有一个实例，并提供一个访问它的全局访问点。一个全局使用的类频繁地创建与销毁。在想控制实例数目，节省系统资源时使用。**构造函数私有**

2. 优点

   - 在内存里只有一个实例，减少了内存开销，尤其是频繁创建、销毁实例
   - 避免对资源的多重占用

3. 缺点

   - 没有接口，不能继承，与单一职责原则冲突，一个类应该只关心内部逻辑，而不关心外面怎么实现实例化

4. 使用场景

   - 要求生成唯一序列号
   - WEB 中的计数器，不用每次刷新都在数据库里加一次，用单例先缓存起来
   - 创建的一个对象需要消耗的资源过多，比如 I/O 与数据库的连接等

5. 注意事项

   getInstance() 方法中需要使用同步锁 synchronized (Singleton.class) 防止多线程同时进入造成 instance 被多次实例化

6. 实现

   创建一个 SingleObject 类。SingleObject 类有它的私有构造函数本身的一个静态实例。*SingleObject* 类提供了一个静态方法，供外界获取它的静态实例。*SingletonPatternDemo* 类使用 *SingleObject* 类来获取 *SingleObject* 对象。

   